<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vintage Multi-Station Radio</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Orbitron:wght@400;700&display=swap');
        
        :root {
            --radio-body: #2a2a2a;
            --radio-accent: #ff5722;
            --radio-highlight: #ff9800;
            --radio-text: #e0e0e0;
            --radio-shadow: #1a1a1a;
            --radio-dial: #424242;
            --radio-glass: rgba(255, 255, 255, 0.1);
            --online: #4CAF50;
            --offline: #F44336;
        }
        
        body {
            background: linear-gradient(135deg, #121212, #1e1e1e);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            color: var(--radio-text);
        }
        
        .radio-container {
            position: relative;
            width: 420px;
            height: 600px;
            background: var(--radio-body);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5),
                        inset 0 5px 15px rgba(0, 0, 0, 0.3);
            padding: 30px;
            display: flex;
            flex-direction: column;
            border: 1px solid #444;
        }
        
        .radio-glass {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 120px;
            background: var(--radio-glass);
            border-radius: 20px 20px 0 0;
            backdrop-filter: blur(5px);
            z-index: 1;
        }
        
        .radio-header {
            position: relative;
            z-index: 2;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .radio-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 24px;
            font-weight: 700;
            margin: 0;
            color: var(--radio-highlight);
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(255, 152, 0, 0.5);
        }
        
        .radio-subtitle {
            font-size: 12px;
            margin-top: 5px;
            color: #aaa;
            letter-spacing: 1px;
        }
        
        .auto-stop {
            position: absolute;
            top: 20px;
            right: 30px;
            background: #d32f2f;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5);
            z-index: 2;
        }
        
        .radio-display {
            background: #121212;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.8);
        }
        
        .station-info {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .station-logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #333;
            margin-right: 15px;
            overflow: hidden;
            border: 2px solid #444;
        }
        
        .station-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .station-text {
            flex-grow: 1;
        }
        
        .station-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 16px;
            margin: 0 0 5px 0;
            color: var(--radio-highlight);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .station-status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .status-online {
            background: var(--online);
            box-shadow: 0 0 8px rgba(76, 175, 80, 0.5);
        }
        
        .status-offline {
            background: var(--offline);
            box-shadow: 0 0 8px rgba(244, 67, 54, 0.3);
        }
        
        .display-subtext {
            font-size: 12px;
            margin-top: 5px;
            color: #777;
        }
        
        .visualizer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 5px;
            display: flex;
            gap: 2px;
            padding: 0 2px;
        }
        
        .visualizer-bar {
            background: var(--radio-accent);
            flex-grow: 1;
            border-radius: 2px 2px 0 0;
            animation: visualizer-animation 1.5s infinite ease-in-out;
            transform-origin: bottom;
        }
        
        @keyframes visualizer-animation {
            0%, 100% { transform: scaleY(0.3); }
            50% { transform: scaleY(1.8); }
        }
        
        .preset-stations {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .preset-button {
            background: #333;
            border: none;
            border-radius: 8px;
            height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--radio-text);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3),
                       inset 0 1px 2px rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .preset-button:active {
            transform: translateY(2px);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        .preset-button.active {
            background: var(--radio-accent);
            color: white;
        }
        
        .preset-button .preset-number {
            position: absolute;
            top: 3px;
            left: 5px;
            font-size: 10px;
            color: #aaa;
        }
        
        .preset-button .preset-img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #444;
            margin-bottom: 5px;
            overflow: hidden;
        }
        
        .preset-button .preset-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .preset-button .preset-name {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
            padding: 0 5px;
        }
        
        .radio-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .control-button {
            background: #333;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--radio-text);
            font-size: 20px;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3),
                       inset 0 2px 3px rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .control-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .control-button.active {
            background: var(--radio-accent);
            color: white;
        }
        
        .control-button.play {
            grid-column: 2;
            background: var(--radio-accent);
            width: 80px;
            height: 80px;
            font-size: 30px;
            margin: 0 auto;
        }
        
        .control-button.play::after {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border: 2px solid var(--radio-highlight);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .control-button.play.active::after {
            opacity: 0.5;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.5; }
            70% { transform: scale(1.2); opacity: 0; }
            100% { transform: scale(1); opacity: 0; }
        }
        
        .radio-footer {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: #555;
            margin-top: auto;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            margin-top: 20px;
        }
        
        .volume-icon {
            margin-right: 10px;
            font-size: 18px;
            color: var(--radio-accent);
        }
        
        .volume-slider {
            flex-grow: 1;
            -webkit-appearance: none;
            height: 4px;
            background: #444;
            border-radius: 2px;
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--radio-accent);
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }
        
        /* Visualizer bars animation delays */
        .visualizer-bar:nth-child(1) { animation-delay: 0.1s; }
        .visualizer-bar:nth-child(2) { animation-delay: 0.3s; }
        .visualizer-bar:nth-child(3) { animation-delay: 0.5s; }
        .visualizer-bar:nth-child(4) { animation-delay: 0.2s; }
        .visualizer-bar:nth-child(5) { animation-delay: 0.4s; }
        .visualizer-bar:nth-child(6) { animation-delay: 0.6s; }
        .visualizer-bar:nth-child(7) { animation-delay: 0.3s; }
        .visualizer-bar:nth-child(8) { animation-delay: 0.5s; }
        .visualizer-bar:nth-child(9) { animation-delay: 0.7s; }
    </style>
</head>
<body>
    <div class="radio-container">
        <div class="radio-glass"></div>
        <div class="auto-stop">AUTO STOP SYSTEM</div>
        
        <div class="radio-header">
            <h1 class="radio-title">Vintage Radio</h1>
            <p class="radio-subtitle">5-Station YouTube Receiver</p>
        </div>
        
        <div class="radio-display">
            <div class="station-info">
                <div class="station-logo" id="stationLogo">
                    <img src="https://via.placeholder.com/50" alt="Station Logo">
                </div>
                <div class="station-text">
                    <h3 class="station-name" id="stationName">Select a station</h3>
                    <span class="station-status status-offline" id="stationStatus">OFFLINE</span>
                </div>
            </div>
            <p class="display-subtext" id="nowPlaying">No station selected</p>
            
            <div class="visualizer" id="visualizer">
                <!-- Visualizer bars will be added by JavaScript -->
            </div>
        </div>
        
        <div class="preset-stations" id="presetStations">
            <!-- Preset stations will be added by JavaScript -->
        </div>
        
        <div class="radio-controls">
            <button class="control-button">◀◀</button>
            <button class="control-button play" id="playButton">▶</button>
            <button class="control-button">▶▶</button>
            <button class="control-button">1</button>
            <button class="control-button">2</button>
            <button class="control-button">3</button>
        </div>
        
        <div class="volume-control">
            <span class="volume-icon">🔊</span>
            <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.01" value="0.7">
        </div>
        
        <div class="radio-footer">
            <span>API: AIzaSyAeaesQoH0URUMllWkFpLlv-n8fC9u-YhU</span>
            <span>PWR: ON</span>
        </div>
    </div>

    <!-- YouTube IFrame API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    
    <script>
        // YouTube API and player variables
        let player;
        let isPlaying = false;
        const apiKey = 'AIzaSyAeaesQoH0URUMllWkFpLlv-n8fC9u-YhU';
        
        // Station configuration
        const stations = [
            {
                id: 1,
                name: "Your Channel",
                channelId: 'UCqtGJe9AnRfq5wwjk27VsoQ',
                logo: 'https://via.placeholder.com/50/ff5722/ffffff?text=YT1',
                currentVideo: null,
                isLive: false
            },
            {
                id: 2,
                name: "Music Hits",
                channelId: 'UC-9-kyTW8ZkZNDHQJ6FgpwQ',
                logo: 'https://via.placeholder.com/50/2196F3/ffffff?text=YT2',
                currentVideo: null,
                isLive: false
            },
            {
                id: 3,
                name: "News 24/7",
                channelId: 'UCYfdidRxbB8Qhf0Nx7ioOYw',
                logo: 'https://via.placeholder.com/50/4CAF50/ffffff?text=YT3',
                currentVideo: null,
                isLive: false
            },
            {
                id: 4,
                name: "Tech Talks",
                channelId: 'UCXuqSBlHAE6Xw-yeJA0Tunw',
                logo: 'https://via.placeholder.com/50/FF9800/ffffff?text=YT4',
                currentVideo: null,
                isLive: false
            },
            {
                id: 5,
                name: "Gaming Live",
                channelId: 'UCOpNcN46UbXVtpKMrmU4Abg',
                logo: 'https://via.placeholder.com/50/9C27B0/ffffff?text=YT5',
                currentVideo: null,
                isLive: false
            }
        ];
        
        let currentStation = null;
        
        // DOM elements
        const playButton = document.getElementById('playButton');
        const volumeSlider = document.getElementById('volumeSlider');
        const nowPlayingElement = document.getElementById('nowPlaying');
        const stationNameElement = document.getElementById('stationName');
        const stationStatusElement = document.getElementById('stationStatus');
        const stationLogoElement = document.getElementById('stationLogo');
        const visualizer = document.getElementById('visualizer');
        const presetStationsElement = document.getElementById('presetStations');
        
        // Create visualizer bars
        for (let i = 0; i < 9; i++) {
            const bar = document.createElement('div');
            bar.className = 'visualizer-bar';
            visualizer.appendChild(bar);
        }
        
        // Initialize the player when YouTube API is ready
        function onYouTubeIframeAPIReady() {
            // Create preset station buttons
            stations.forEach(station => {
                const presetButton = document.createElement('button');
                presetButton.className = 'preset-button';
                presetButton.innerHTML = `
                    <span class="preset-number">${station.id}</span>
                    <div class="preset-img">
                        <img src="${station.logo}" alt="${station.name}">
                    </div>
                    <span class="preset-name">${station.name}</span>
                `;
                
                presetButton.addEventListener('click', () => {
                    selectStation(station);
                });
                
                presetStationsElement.appendChild(presetButton);
            });
            
            // Check initial status for all stations
            stations.forEach(checkStationStatus);
            
            // Set up volume control
            volumeSlider.addEventListener('input', function() {
                if (player) {
                    player.setVolume(this.value * 100);
                }
            });
            
            // Set up play/pause button
            playButton.addEventListener('click', function() {
                if (!currentStation || !player) return;
                
                if (isPlaying) {
                    player.pauseVideo();
                    playButton.classList.remove('active');
                    visualizer.style.opacity = '0.3';
                } else {
                    if (currentStation.isLive) {
                        player.playVideo();
                        playButton.classList.add('active');
                        visualizer.style.opacity = '1';
                    }
                }
            });
        }
        
        // Select a station
        function selectStation(station) {
            currentStation = station;
            stationNameElement.textContent = station.name;
            stationLogoElement.querySelector('img').src = station.logo;
            
            if (station.isLive) {
                stationStatusElement.textContent = 'LIVE';
                stationStatusElement.className = 'station-status status-online';
                nowPlayingElement.textContent = station.currentVideo?.title || "Live now";
                playButton.disabled = false;
                
                if (!player) {
                    setupPlayer(station.currentVideo.id);
                } else {
                    player.loadVideoById(station.currentVideo.id);
                    player.pauseVideo();
                    playButton.classList.remove('active');
                    visualizer.style.opacity = '0.3';
                }
            } else {
                stationStatusElement.textContent = 'OFFLINE';
                stationStatusElement.className = 'station-status status-offline';
                nowPlayingElement.textContent = "Currently offline";
                playButton.disabled = true;
                
                if (player) {
                    player.stopVideo();
                    playButton.classList.remove('active');
                    visualizer.style.opacity = '0.3';
                }
            }
        }
        
        // Check if a station is live
        function checkStationStatus(station) {
            fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${station.channelId}&eventType=live&type=video&key=${apiKey}`)
                .then(response => response.json())
                .then(data => {
                    if (data.items && data.items.length > 0) {
                        station.isLive = true;
                        station.currentVideo = {
                            id: data.items[0].id.videoId,
                            title: data.items[0].snippet.title
                        };
                        
                        // Update the station button to show online status
                        const presetButton = presetStationsElement.children[station.id - 1];
                        presetButton.classList.add('active');
                        
                        // If this is the current station, update the display
                        if (currentStation && currentStation.id === station.id) {
                            selectStation(station);
                        }
                    } else {
                        station.isLive = false;
                        station.currentVideo = null;
                        
                        // Update the station button to show offline status
                        const presetButton = presetStationsElement.children[station.id - 1];
                        presetButton.classList.remove('active');
                        
                        // If this is the current station, update the display
                        if (currentStation && currentStation.id === station.id) {
                            selectStation(station);
                        }
                    }
                })
                .catch(error => {
                    console.error("Error checking station status:", error);
                    station.isLive = false;
                });
            
            // Check status periodically (every 5 minutes)
            setTimeout(() => checkStationStatus(station), 300000);
        }
        
        // Set up the YouTube player
        function setupPlayer(videoId) {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: videoId,
                playerVars: {
                    autoplay: 0,
                    controls: 0,
                    disablekb: 1,
                    modestbranding: 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        // Player ready callback
        function onPlayerReady(event) {
            event.target.setVolume(volumeSlider.value * 100);
            visualizer.style.opacity = '0.3';
        }
        
        // Player state change callback
        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                isPlaying = true;
                playButton.textContent = '❚❚';
                visualizer.style.opacity = '1';
            } else {
                isPlaying = false;
                playButton.textContent = '▶';
                visualizer.style.opacity = '0.3';
            }
        }
        
        // Create a hidden player div (required by YouTube API)
        const playerDiv = document.createElement('div');
        playerDiv.id = 'player';
        playerDiv.style.display = 'none';
        document.body.appendChild(playerDiv);
    </script>
</body>
</html>
